{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\n\nconst useComponentVisible = initValue => {\n  _s();\n\n  const [visible, setVisible] = useState(initValue);\n  const ref = useRef(null);\n\n  const handleHidePicker = event => {\n    if (event.key === 'Escape') {\n      setVisible(false);\n    }\n  };\n\n  const handleClickOutside = event => {\n    if (ref.current && !ref.current.contains(event.target)) {\n      setVisible(false);\n    }\n  };\n\n  console.log('has called');\n  useEffect(() => {\n    document.addEventListener('keydown', handleHidePicker, true);\n    document.addEventListener('click', handleClickOutside, true);\n    return () => {\n      document.removeEventListener('keydown', handleHidePicker, true);\n      document.removeEventListener('click', handleClickOutside, true);\n    };\n  });\n  return {\n    ref,\n    visible,\n    setVisible\n  };\n};\n\n_s(useComponentVisible, \"hVO17r7GGWemuHrngdjS44ivrDk=\");\n\nexport default useComponentVisible;","map":{"version":3,"sources":["/Users/vinhduong/react_projects_2020/Assignment 01 /src/pages/home/custom-hooks/useComponentVisible.jsx"],"names":["React","useState","useEffect","useRef","useComponentVisible","initValue","visible","setVisible","ref","handleHidePicker","event","key","handleClickOutside","current","contains","target","console","log","document","addEventListener","removeEventListener"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;;AAEA,MAAMC,mBAAmB,GAAIC,SAAD,IAAe;AAAA;;AACzC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAACI,SAAD,CAAtC;AACA,QAAMG,GAAG,GAAGL,MAAM,CAAC,IAAD,CAAlB;;AAEA,QAAMM,gBAAgB,GAAIC,KAAD,IAA0B;AACjD,QAAIA,KAAK,CAACC,GAAN,KAAc,QAAlB,EAA4B;AAC1BJ,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF,GAJD;;AAMA,QAAMK,kBAAkB,GAAIF,KAAD,IAAW;AACpC,QAAIF,GAAG,CAACK,OAAJ,IAAe,CAACL,GAAG,CAACK,OAAJ,CAAYC,QAAZ,CAAqBJ,KAAK,CAACK,MAA3B,CAApB,EAAwD;AACtDR,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF,GAJD;;AAKAS,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAf,EAAAA,SAAS,CAAC,MAAM;AACdgB,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqCV,gBAArC,EAAuD,IAAvD;AACAS,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCP,kBAAnC,EAAuD,IAAvD;AACA,WAAO,MAAM;AACXM,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,EAAwCX,gBAAxC,EAA0D,IAA1D;AACAS,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,OAA7B,EAAsCR,kBAAtC,EAA0D,IAA1D;AACD,KAHD;AAID,GAPQ,CAAT;AAQA,SAAO;AAAEJ,IAAAA,GAAF;AAAOF,IAAAA,OAAP;AAAgBC,IAAAA;AAAhB,GAAP;AACD,CAzBD;;GAAMH,mB;;AA0BN,eAAeA,mBAAf","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nconst useComponentVisible = (initValue) => {\n  const [visible, setVisible] = useState(initValue);\n  const ref = useRef(null);\n\n  const handleHidePicker = (event: KeyboardEvent) => {\n    if (event.key === 'Escape') {\n      setVisible(false);\n    }\n  };\n\n  const handleClickOutside = (event) => {\n    if (ref.current && !ref.current.contains(event.target)) {\n      setVisible(false);\n    }\n  };\n  console.log('has called');\n  useEffect(() => {\n    document.addEventListener('keydown', handleHidePicker, true);\n    document.addEventListener('click', handleClickOutside, true);\n    return () => {\n      document.removeEventListener('keydown', handleHidePicker, true);\n      document.removeEventListener('click', handleClickOutside, true);\n    };\n  });\n  return { ref, visible, setVisible };\n};\nexport default useComponentVisible;\n"]},"metadata":{},"sourceType":"module"}