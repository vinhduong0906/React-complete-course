(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{16:function(e,t,n){e.exports={form:"QuoteForm_form__3UhuF",loading:"QuoteForm_loading__2X51W",control:"QuoteForm_control__1pqUs",actions:"QuoteForm_actions__1Higs","error-text":"QuoteForm_error-text__35gLA"}},21:function(e,t,n){e.exports={header:"MainNavigation_header__1oQkl",logo:"MainNavigation_logo__t-Wl6",nav:"MainNavigation_nav__33Mx3",active:"MainNavigation_active__2NdZs"}},33:function(e,t,n){e.exports={author:"QuoteDetail_author__22KfT",item:"QuoteDetail_item__pvpWc",text:"QuoteDetail_text__1TA1F"}},39:function(e,t,n){e.exports={list:"QuoteList_list__1sVPH",sorting:"QuoteList_sorting___EScB"}},40:function(e,t,n){e.exports={main:"Layout_main__2Mb2E",container:"Layout_container__1ICUu"}},45:function(e,t,n){e.exports={item:"QuoteItem_item__AE7DQ"}},46:function(e,t,n){e.exports={card:"Card_card__1vn8L"}},47:function(e,t,n){e.exports={spinner:"LoadingSpinner_spinner__2QGZg"}},48:function(e,t,n){e.exports={notfound:"NotFound_notfound__36-TK"}},61:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(42),o=n(12),a=n(30),s=Object(a.b)({name:"quotes",initialState:[],reducers:{addQuote:function(e,t){e.push(t.payload)},initQuotes:function(e,t){return t.payload},sortQuotes:function(e,t){return e.sort((function(e,t){return e.text.localeCompare(t.text)}))},reverseQuotes:function(e,t){return e.reverse()}}}),i=s.actions,u=s.reducer,l=i.initQuotes,d=i.reverseQuotes,j=i.addQuote,b=i.sortQuotes,h=u,x=Object(a.a)({reducer:{quotes:h}}),O=n(9),f=n(20),m=n(5),v=n(3),p=n(11),_=n(45),g=n.n(_),N=n(2),Q=function(e){return Object(N.jsxs)("li",{className:g.a.item,children:[Object(N.jsxs)("figure",{children:[Object(N.jsx)("blockquote",{children:Object(N.jsx)("p",{children:e.text})}),Object(N.jsx)("figcaption",{children:e.author})]}),Object(N.jsx)(p.a,{to:"/quotes/".concat(e.id),className:"btn",children:"View Fullscreen"})]})},q=n(39),y=n.n(q),E=function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.quotes})),c=(Object(v.o)(),Object(r.useState)(!1)),a=Object(m.a)(c,2),s=a[0],i=a[1],u=Object(p.d)({}),l=Object(m.a)(u,2),j=(l[0],l[1]);return Object(N.jsxs)(r.Fragment,{children:[Object(N.jsx)("div",{className:y.a.sorting,children:Object(N.jsxs)("button",{onClick:function(){i((function(e){return!e})),j({sort:s?"asc":"desc"}),t(d())},children:["Sort ",s?"Ascending":"Descending"]})}),Object(N.jsx)("ul",{className:y.a.list,children:n.map((function(e){return Object(N.jsx)(Q,{id:e.id,author:e.author,text:e.text},e.id)}))})]})},T=function(e){return Object(N.jsx)(r.Fragment,{children:Object(N.jsx)(E,{})})},A=n(33),S=n.n(A),C=function(){var e=Object(v.q)(),t=Object(o.c)((function(e){return e.quotes})),n=t.findIndex((function(t){return t.id===e.quoteId}));return Object(N.jsxs)("div",{className:S.a.item,children:[Object(N.jsx)("div",{className:S.a.author,children:t[n].author}),Object(N.jsx)("div",{className:S.a.text,children:t[n].text})]})},F=n(4),L=n(8),w=function(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(!1),a=Object(m.a)(o,2),s=a[0],i=a[1],u=Object(r.useCallback)(function(){var e=Object(L.a)(Object(F.a)().mark((function e(t,n){var r,o;return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,fetch(t.url,{method:t.method?t.method:"GET",headers:t.headers?t.headers:{},body:t.body?JSON.stringify(t.body):null});case 4:if((r=e.sent).ok){e.next=8;break}throw i(!0),new Error("Some thing went wrong");case 8:return e.next=10,r.json();case 10:o=e.sent,c(!1),n(o),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0),i(!0);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n){return e.apply(this,arguments)}}(),[]);return{isLoading:n,error:s,sendRequest:u}},R=n(46),k=n.n(R),H=function(e){return Object(N.jsx)("div",{className:k.a.card,children:e.children})},B=n(47),V=n.n(B),D=function(){return Object(N.jsx)("div",{className:V.a.spinner})},I=n(16),M=n.n(I),G={value:"",isTouch:!1},U=function(e){var t=Object(r.useReducer)((function(e,t){return"CHANGE"===t.type?{value:t.value,isTouch:e.isTouch}:"BLUR"===t.type?{isTouch:!0,value:e.value}:"RESET"===t.type?{value:"",isTouch:!1}:void 0}),G),n=Object(m.a)(t,2),c=n[0],o=n[1],a=e(c.value),s=!a&&c.isTouch;return{inputValue:c.value,hasError:s,inputValid:a,inputBlurHandler:function(){console.log("blur"),o({type:"BLUR"})},inputChangeHandler:function(e){console.log("change"),o({type:"CHANGE",value:e.target.value})},reset:function(){o({type:"RESET"})}}},J=function(e){return""!=e},P=function(e){var t=Object(r.useRef)(),n=Object(r.useRef)(),c=U(J),o=c.inputValue,a=c.hasError,s=c.inputValid,i=c.inputBlurHandler,u=c.inputChangeHandler,l=c.reset,d=U(J),j=d.inputValue,b=d.hasError,h=d.inputValid,x=d.inputBlurHandler,O=d.inputChangeHandler,f=d.reset,m=!1;return s&&h&&(m=!0),Object(N.jsx)(H,{children:Object(N.jsxs)("form",{className:M.a.form,onSubmit:function(r){r.preventDefault();var c=t.current.value,o=n.current.value;e.onAddQuote(c,o),l(),f()},children:[e.isLoading&&Object(N.jsx)("div",{className:M.a.loading,children:Object(N.jsx)(D,{})}),Object(N.jsxs)("div",{className:M.a.control,children:[Object(N.jsx)("label",{htmlFor:"author",children:"Author"}),a&&Object(N.jsx)("div",{className:M.a["error-text"],children:"You must enter author!"}),Object(N.jsx)("input",{value:o,onChange:u,onBlur:i,type:"text",id:"author",ref:t})]}),Object(N.jsxs)("div",{className:M.a.control,children:[Object(N.jsx)("label",{htmlFor:"text",children:"Text"}),b&&Object(N.jsx)("div",{className:M.a["error-text"],children:"You must enter some text!"}),Object(N.jsx)("textarea",{value:j,onChange:O,onBlur:x,id:"text",rows:"5",ref:n})]}),Object(N.jsx)("div",{className:M.a.actions,children:Object(N.jsx)("button",{type:"submit",className:"btn",disabled:!m,children:"Add Quote"})})]})})},W=function(){var e=Object(o.b)(),t=w(),n=(t.isLoading,t.error,t.sendRequest),r=function(t,n){if(n){var r={id:n.name,author:t.author,text:t.text};e(j(r)),e(b())}};return Object(N.jsx)(P,{onAddQuote:function(e,t){n({url:"https://quotes-d3cf4-default-rtdb.firebaseio.com/quotes.json",method:"POST",headers:{"Content-Type":"application/json"},body:{author:e,text:t}},r.bind(null,{author:e,text:t})),r()}})},K=n(40),Y=n.n(K),Z=n(21),X=n.n(Z),z=function(){return Object(N.jsxs)("div",{className:X.a.header,children:[Object(N.jsx)("div",{className:X.a.logo,children:"Greate Quotes"}),Object(N.jsx)("div",{className:X.a.nav,children:Object(N.jsxs)("ul",{children:[Object(N.jsx)("li",{children:Object(N.jsx)(p.b,{className:function(e){return e.isActive?X.a.active:void 0},to:"/quotes",children:"All Quotes"})}),Object(N.jsx)("li",{children:Object(N.jsx)(p.b,{className:function(e){return e.isActive?X.a.active:void 0},to:"/new-quote",children:"Add a Quote"})})]})})]})},$=function(){return Object(N.jsxs)("div",{className:Y.a.main,children:[Object(N.jsx)(z,{}),Object(N.jsx)("div",{className:Y.a.container,children:Object(N.jsx)(v.b,{})})]})},ee=n(48),te=n.n(ee),ne=function(){return Object(N.jsx)("div",{className:te.a.notfound,children:"Page not found!"})};var re=function(){var e=Object(o.b)(),t=Object(r.useState)([]),n=Object(m.a)(t,2),c=n[0],a=n[1],s=w(),i=(s.isLoading,s.error,s.sendRequest),u={url:"https://quotes-d3cf4-default-rtdb.firebaseio.com/quotes.json"};Object(r.useEffect)((function(){i(u,(function(e){var t=function(){var t=Object(f.a)(Object(f.a)({},e[n]),{},{id:n});a((function(e){return[].concat(Object(O.a)(e),[t])}))};for(var n in e)t()}))}),[]),Object(r.useEffect)((function(){!function(t){e(l(t)),e(b())}(c)}),[c]);var d=Object(p.c)([{path:"/",element:Object(N.jsx)(v.a,{to:"/quotes"})},{path:"/",element:Object(N.jsx)($,{}),errorElement:Object(N.jsx)(ne,{}),children:[{path:"/quotes",element:Object(N.jsx)(T,{})},{path:"/quotes/:quoteId",element:Object(N.jsx)(C,{})},{path:"new-quote",element:Object(N.jsx)(W,{})},{path:"*",element:Object(N.jsx)(ne,{})}]}]);return console.log(x),Object(N.jsx)(v.d,{router:d})},ce=document.getElementById("root");Object(c.createRoot)(ce).render(Object(N.jsx)(o.a,{store:x,children:Object(N.jsx)(re,{})}))}},[[61,1,2]]]);
//# sourceMappingURL=main.a7916090.chunk.js.map